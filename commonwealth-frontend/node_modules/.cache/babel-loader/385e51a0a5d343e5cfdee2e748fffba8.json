{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"G:\\\\commonwealth-backend\\\\commonwealth-frontend\\\\src\\\\components\\\\characters\\\\character.component.js\";\nimport React, { Component } from \"react\";\nimport CharacterDataService from \"../../services/character.service\";\nimport AuthService from \"../../services/auth.service\";\nexport default class Character extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeCharacterName = this.onChangeCharacterName.bind(this);\n    this.onChangeCharacterClass = this.onChangeCharacterClass.bind(this);\n    this.onChangeLevel = this.onChangeLevel.bind(this);\n    this.onChangerStatus = this.onChangeStatus.bind(this);\n    this.onChangeStatArray = this.onChangeStatArray.bind(this);\n    this.onChangeLocationId = this.onChangeLocationId.bind(this);\n    this.onChangeUserId = this.onChangeUserId.bind(this);\n    this.onChangeApproved = this.onChangeApproved.bind(this);\n    this.getCharacter = this.getCharacter.bind(this);\n    this.updateCharacter = this.updateCharacter.bind(this);\n    this.deleteCharacter = this.deleteCharacter.bind(this);\n    this.state = {\n      currentCharacter: {\n        character_id: null,\n        character_name: \"\",\n        character_class: \"\",\n        level: null,\n        status: \"\",\n        stat_array: \"\",\n        user_id: null,\n        location_id: null,\n        approved: null,\n        user_id: null,\n        checkForAdmin: null,\n        submitted: false\n      },\n      message: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.getCharacter(this.props.match.params.character_id);\n    const user = AuthService.getCurrentUser();\n\n    if (user) {\n      this.setState({\n        user_id: user.user_id,\n        checkForAdmin: user.user_id == 2\n      });\n    }\n  }\n\n  onChangeCharacterName(e) {\n    const character_name = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        currentCharacter: { ...prevState.currentCharacter,\n          character_name: character_name\n        }\n      };\n    });\n  }\n\n  onChangeCharacterClass(e) {\n    const character_class = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        currentCharacter: { ...prevState.currentCharacter,\n          character_class: character_class\n        }\n      };\n    });\n  }\n\n  onChangeLevel(e) {\n    const level = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        currentCharacter: { ...prevState.currentCharacter,\n          level: level\n        }\n      };\n    });\n  }\n\n  onChangeStatus(e) {\n    const status = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        currentCharacter: { ...prevState.currentCharacter,\n          status: status\n        }\n      };\n    });\n  }\n\n  onChangeStatArray(e) {\n    const stat_array = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        currentCharacter: { ...prevState.currentCharacter,\n          stat_array: stat_array\n        }\n      };\n    });\n  }\n\n  onChangeLocationId(e) {\n    const location_id = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        currentCharacter: { ...prevState.currentCharacter,\n          location_id: location_id\n        }\n      };\n    });\n  }\n\n  onChangeUserId(e) {\n    const user_id = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        currentCharacter: { ...prevState.currentCharacter,\n          user_id: user_id\n        }\n      };\n    });\n  }\n\n  onChangeApproved(e) {\n    const approved = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        currentCharacter: { ...prevState.currentCharacter,\n          approved: approved\n        }\n      };\n    });\n  }\n\n  getCharacter(character_id) {\n    CharacterDataService.get(character_id).then(response => {\n      this.setState({\n        currentCharacter: response.data\n      });\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  updateCharacter() {\n    CharacterDataService.update(this.state.currentCharacter.character_id, this.state.currentCharacter).then(response => {\n      console.log(response.data);\n      this.setState({\n        message: \"The Character was updated successfully!\"\n      });\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  deleteCharacter() {\n    CharacterDataService.delete(this.state.currentCharacter.character_id).then(response => {\n      console.log(response.data);\n      this.props.history.push('/Characters');\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  render() {\n    const {\n      currentCharacter,\n      user_id,\n      checkForAdmin\n    } = this.state;\n\n    if (user_id == currentCharacter.user_id || checkForAdmin) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: currentCharacter ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edit-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Character\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"character_name\",\n                children: \"Character Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"character_name\",\n                value: currentCharacter.character_name,\n                onChange: this.onChangeCharacterName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"character_class\",\n                children: \"Character Class\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"character_class\",\n                value: currentCharacter.character_class,\n                onChange: this.onChangeCharacterClass\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"level\",\n                children: \"Level\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"level\",\n                value: currentCharacter.level,\n                onChange: this.onChangeLevel\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"status\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"status\",\n                value: currentCharacter.status,\n                onChange: this.onChangeStatus\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"stat_array\",\n                children: \"Stat Array\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"stat_array\",\n                value: currentCharacter.stat_array,\n                onChange: this.onChangeStatArray\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"location_id\",\n                children: \"Location\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"location_id\",\n                value: currentCharacter.location_id,\n                onChange: this.onChangeLocationId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"user_id\",\n                children: \"Player\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"user_id\",\n                value: currentCharacter.user_id,\n                onChange: this.onChangeUserId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"approved\",\n                children: \"Approved\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"approved\",\n                value: currentCharacter.approved,\n                onChange: this.onChangeApproved\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"badge badge-danger mr-2\",\n            onClick: this.deleteCharacter,\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"badge badge-success\",\n            onClick: this.updateCharacter,\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.state.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Please click on a Character...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 7\n      }, this);\n    } else {\n      /*#__PURE__*/\n      _jsxDEV(\"h3\", {\n        children: \"Can't edit others' characters :\\\\\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 5\n      }, this);\n    }\n  }\n\n}","map":{"version":3,"sources":["G:/commonwealth-backend/commonwealth-frontend/src/components/characters/character.component.js"],"names":["React","Component","CharacterDataService","AuthService","Character","constructor","props","onChangeCharacterName","bind","onChangeCharacterClass","onChangeLevel","onChangerStatus","onChangeStatus","onChangeStatArray","onChangeLocationId","onChangeUserId","onChangeApproved","getCharacter","updateCharacter","deleteCharacter","state","currentCharacter","character_id","character_name","character_class","level","status","stat_array","user_id","location_id","approved","checkForAdmin","submitted","message","componentDidMount","match","params","user","getCurrentUser","setState","e","target","value","prevState","get","then","response","data","console","log","catch","update","delete","history","push","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport CharacterDataService from \"../../services/character.service\";\r\nimport AuthService from \"../../services/auth.service\";\r\n\r\nexport default class Character extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onChangeCharacterName = this.onChangeCharacterName.bind(this);\r\n    this.onChangeCharacterClass = this.onChangeCharacterClass.bind(this);\r\n    this.onChangeLevel = this.onChangeLevel.bind(this);\r\n    this.onChangerStatus = this.onChangeStatus.bind(this);\r\n    this.onChangeStatArray = this.onChangeStatArray.bind(this);\r\n    this.onChangeLocationId = this.onChangeLocationId.bind(this);\r\n    this.onChangeUserId = this.onChangeUserId.bind(this);\r\n    this.onChangeApproved = this.onChangeApproved.bind(this);\r\n    this.getCharacter = this.getCharacter.bind(this);\r\n    this.updateCharacter = this.updateCharacter.bind(this);\r\n    this.deleteCharacter = this.deleteCharacter.bind(this);\r\n\r\n    this.state = {\r\n      currentCharacter: {\r\n      character_id: null,\r\n      character_name: \"\",\r\n      character_class: \"\",\r\n      level: null,\r\n      status: \"\",\r\n      stat_array: \"\",\r\n      user_id: null,\r\n      location_id: null,\r\n      approved: null,\r\n      user_id: null,\r\n      checkForAdmin: null,\r\n\r\n      submitted: false\r\n      },\r\n      message: \"\"\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getCharacter(this.props.match.params.character_id);\r\n    const user = AuthService.getCurrentUser();\r\n\r\n    if (user) {\r\n      this.setState({\r\n        user_id: user.user_id,\r\n        checkForAdmin: user.user_id == 2\r\n      });\r\n    }\r\n  }\r\n\r\n  onChangeCharacterName(e) {\r\n    const character_name = e.target.value;\r\n\r\n    this.setState(function(prevState) {\r\n      return {\r\n        currentCharacter: {\r\n          ...prevState.currentCharacter,\r\n          character_name: character_name\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  onChangeCharacterClass(e) {\r\n    const character_class = e.target.value;\r\n\r\n    this.setState(function(prevState) {\r\n      return {\r\n        currentCharacter: {\r\n          ...prevState.currentCharacter,\r\n          character_class: character_class\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  onChangeLevel(e) {\r\n    const level = e.target.value;\r\n\r\n    this.setState(function(prevState) {\r\n      return {\r\n        currentCharacter: {\r\n          ...prevState.currentCharacter,\r\n          level: level\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  onChangeStatus(e) {\r\n    const status = e.target.value;\r\n\r\n    this.setState(function(prevState) {\r\n      return {\r\n        currentCharacter: {\r\n          ...prevState.currentCharacter,\r\n          status: status\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  onChangeStatArray(e) {\r\n    const stat_array = e.target.value;\r\n\r\n    this.setState(function(prevState) {\r\n      return {\r\n        currentCharacter: {\r\n          ...prevState.currentCharacter,\r\n          stat_array: stat_array\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  onChangeLocationId(e) {\r\n    const location_id = e.target.value;\r\n\r\n    this.setState(function(prevState) {\r\n      return {\r\n        currentCharacter: {\r\n          ...prevState.currentCharacter,\r\n          location_id: location_id\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  onChangeUserId(e) {\r\n    const user_id = e.target.value;\r\n\r\n    this.setState(function(prevState) {\r\n      return {\r\n        currentCharacter: {\r\n          ...prevState.currentCharacter,\r\n          user_id: user_id\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  onChangeApproved(e) {\r\n    const approved = e.target.value;\r\n\r\n    this.setState(function(prevState) {\r\n      return {\r\n        currentCharacter: {\r\n          ...prevState.currentCharacter,\r\n          approved: approved\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  getCharacter(character_id) {\r\n    CharacterDataService.get(character_id)\r\n      .then(response => {\r\n        this.setState({\r\n          currentCharacter: response.data\r\n        });\r\n        console.log(response.data);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  updateCharacter() {\r\n    CharacterDataService.update(\r\n      this.state.currentCharacter.character_id,\r\n      this.state.currentCharacter\r\n    )\r\n      .then(response => {\r\n        console.log(response.data);\r\n        this.setState({\r\n          message: \"The Character was updated successfully!\"\r\n        });\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  deleteCharacter() {    \r\n    CharacterDataService.delete(this.state.currentCharacter.character_id)\r\n      .then(response => {\r\n        console.log(response.data);\r\n        this.props.history.push('/Characters')\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { currentCharacter, user_id, checkForAdmin } = this.state;\r\n\r\n    if(user_id == currentCharacter.user_id || checkForAdmin){\r\n    \r\n    return (\r\n      <div>\r\n        {currentCharacter ? (\r\n          <div className=\"edit-form\">\r\n            <h4>Character</h4>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"character_name\">Character Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"character_name\"\r\n                  value={currentCharacter.character_name}\r\n                  onChange={this.onChangeCharacterName}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"character_class\">Character Class</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"character_class\"\r\n                  value={currentCharacter.character_class}\r\n                  onChange={this.onChangeCharacterClass}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"level\">Level</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"level\"\r\n                  value={currentCharacter.level}\r\n                  onChange={this.onChangeLevel}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"status\">Status</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"status\"\r\n                  value={currentCharacter.status}\r\n                  onChange={this.onChangeStatus}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"stat_array\">Stat Array</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"stat_array\"\r\n                  value={currentCharacter.stat_array}\r\n                  onChange={this.onChangeStatArray}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"location_id\">Location</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"location_id\"\r\n                  value={currentCharacter.location_id}\r\n                  onChange={this.onChangeLocationId}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"user_id\">Player</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"user_id\"\r\n                  value={currentCharacter.user_id}\r\n                  onChange={this.onChangeUserId}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"approved\">Approved</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"approved\"\r\n                  value={currentCharacter.approved}\r\n                  onChange={this.onChangeApproved}\r\n                />\r\n              </div>\r\n\r\n            </form>\r\n\r\n            <button\r\n              className=\"badge badge-danger mr-2\"\r\n              onClick={this.deleteCharacter}\r\n            >\r\n              Delete\r\n            </button>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              className=\"badge badge-success\"\r\n              onClick={this.updateCharacter}\r\n            >\r\n              Update\r\n            </button>\r\n            <p>{this.state.message}</p>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <br />\r\n            <p>Please click on a Character...</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  else{\r\n    <h3>Can't edit others' characters :\\</h3>\r\n  }\r\n}\r\n}"]},"metadata":{},"sourceType":"module"}