{"ast":null,"code":"import _classCallCheck from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from\"react\";import UserDataService from\"../../services/user.service\";import{Link}from\"react-router-dom\";import AuthService from\"../../services/auth.service\";var UsersList=/*#__PURE__*/function(_Component){_inherits(UsersList,_Component);var _super=_createSuper(UsersList);function UsersList(props){var _this;_classCallCheck(this,UsersList);_this=_super.call(this,props);_this.retrieveUsers=_this.retrieveUsers.bind(_assertThisInitialized(_this));_this.refreshList=_this.refreshList.bind(_assertThisInitialized(_this));_this.setActiveUser=_this.setActiveUser.bind(_assertThisInitialized(_this));_this.state={users:[],currentUserl:null,currentIndex:-1,user_id:null,checkForAdmin:null};return _this;}_createClass(UsersList,[{key:\"componentDidMount\",value:function componentDidMount(){this.retrieveUsers();var user=AuthService.getCurrentUser();if(user){this.setState({user_id:user.user_id,checkForAdmin:user.user_id==2});}}},{key:\"retrieveUsers\",value:function retrieveUsers(){var _this2=this;UserDataService.getAll().then(function(response){_this2.setState({users:response.data});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"refreshList\",value:function refreshList(){this.retrieveUsers();this.setState({currentUser:null,currentIndex:-1});}},{key:\"setActiveUser\",value:function setActiveUser(user,index){this.setState({currentUser:user,currentIndex:index});}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,users=_this$state.users,currentUser=_this$state.currentUser,currentIndex=_this$state.currentIndex,user_id=_this$state.user_id,checkForAdmin=_this$state.checkForAdmin;return/*#__PURE__*/_jsxs(\"div\",{className:\"list row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Users List\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group\",children:users&&users.map(function(user,index){return/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item \"+(index===currentIndex?\"active\":\"\"),onClick:function onClick(){return _this3.setActiveUser(user,index);},children:user.username},index);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:currentUser?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"User\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Username:\"})}),\" \",currentUser.username]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Rank:\"})}),\" \",currentUser.rank]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Discord ID:\"})}),\" \",currentUser.discord_id]}),checkForAdmin&&/*#__PURE__*/_jsx(Link,{to:\"/users/\"+currentUser.user_id,className:\"badge badge-warning\",children:\"Edit\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"Please click on a User...\"})]})})]});}}]);return UsersList;}(Component);export{UsersList as default};","map":{"version":3,"sources":["G:/commonwealth-backend/commonwealth-frontend/src/components/users/users-list.component.js"],"names":["React","Component","UserDataService","Link","AuthService","UsersList","props","retrieveUsers","bind","refreshList","setActiveUser","state","users","currentUserl","currentIndex","user_id","checkForAdmin","user","getCurrentUser","setState","getAll","then","response","data","console","log","catch","e","currentUser","index","map","username","rank","discord_id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport UserDataService from \"../../services/user.service\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AuthService from \"../../services/auth.service\";\r\n\r\nexport default class UsersList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.retrieveUsers = this.retrieveUsers.bind(this);\r\n    this.refreshList = this.refreshList.bind(this);\r\n    this.setActiveUser = this.setActiveUser.bind(this);\r\n\r\n    this.state = {\r\n      users: [],\r\n      currentUserl: null,\r\n      currentIndex: -1,\r\n      user_id: null,\r\n      checkForAdmin: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.retrieveUsers();\r\n    const user = AuthService.getCurrentUser();\r\n\r\n    if (user) {\r\n      this.setState({\r\n        user_id: user.user_id,\r\n        checkForAdmin: user.user_id == 2\r\n      });\r\n    }\r\n\r\n    \r\n\r\n  }\r\n\r\n  retrieveUsers() {\r\n    UserDataService.getAll()\r\n      .then(response => {\r\n        this.setState({\r\n          users: response.data\r\n        });\r\n        console.log(response.data);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  refreshList() {\r\n    this.retrieveUsers();\r\n    this.setState({\r\n      currentUser: null,\r\n      currentIndex: -1\r\n    });\r\n  }\r\n\r\n  setActiveUser(user, index) {\r\n    this.setState({\r\n      currentUser: user,\r\n      currentIndex: index\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { users, currentUser, currentIndex, user_id, checkForAdmin } = this.state;\r\n\r\n    return (\r\n      <div className=\"list row\">\r\n        <div className=\"col-md-8\">\r\n        </div>\r\n        <div className=\"col-md-6\">\r\n          <h4>Users List</h4>\r\n\r\n          <ul className=\"list-group\">\r\n            {users &&\r\n              users.map((user, index) => (\r\n                <li\r\n                  className={\r\n                    \"list-group-item \" +\r\n                    (index === currentIndex ? \"active\" : \"\")\r\n                  }\r\n                  onClick={() => this.setActiveUser(user, index)}\r\n                  key={index}\r\n                >\r\n                  {user.username}\r\n                </li>\r\n              ))}\r\n          </ul>\r\n        </div>\r\n        <div className=\"col-md-6\">\r\n          {currentUser ? (\r\n            <div>\r\n              <h4>User</h4>\r\n              <div>\r\n                <label>\r\n                  <strong>Username:</strong>\r\n                </label>{\" \"}\r\n                {currentUser.username}\r\n              </div>\r\n\r\n              <div>\r\n                <label>\r\n                  <strong>Rank:</strong>\r\n                </label>{\" \"}\r\n                {currentUser.rank}\r\n              </div>\r\n\r\n              <div>\r\n                <label>\r\n                  <strong>Discord ID:</strong>\r\n                </label>{\" \"}\r\n                {currentUser.discord_id}\r\n              </div>\r\n\r\n              {checkForAdmin && ( \r\n              <Link\r\n                to={\"/users/\" + currentUser.user_id}\r\n                className=\"badge badge-warning\"\r\n              >\r\n                Edit\r\n              </Link>\r\n              )}\r\n            </div>\r\n            \r\n          ) : (\r\n            <div>\r\n              <br />\r\n              <p>Please click on a User...</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}