{"ast":null,"code":"import _defineProperty from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from\"react\";import UserDataService from\"../../services/user.service\";import AuthService from\"../../services/auth.service\";var AddUser=/*#__PURE__*/function(_Component){_inherits(AddUser,_Component);var _super=_createSuper(AddUser);function AddUser(props){var _this$state;var _this;_classCallCheck(this,AddUser);_this=_super.call(this,props);_this.onChangeUsername=_this.onChangeUsername.bind(_assertThisInitialized(_this));_this.onChangePassword=_this.onChangePassword.bind(_assertThisInitialized(_this));_this.onChangeRank=_this.onChangeRank.bind(_assertThisInitialized(_this));_this.onChangeDiscordId=_this.onChangeDiscordId.bind(_assertThisInitialized(_this));_this.onChangeRole=_this.onChangeRole.bind(_assertThisInitialized(_this));_this.saveUser=_this.saveUser.bind(_assertThisInitialized(_this));_this.newUser=_this.newUser.bind(_assertThisInitialized(_this));_this.state=(_this$state={user_id:null,rank:\"\",username:\"\",discord_id:\"\",role:\"\",password:\"\",checkForAdmin:null},_defineProperty(_this$state,\"user_id\",null),_defineProperty(_this$state,\"submitted\",false),_this$state);return _this;}_createClass(AddUser,[{key:\"onChangeUsername\",value:function onChangeUsername(e){this.setState({user_name:e.target.value});}},{key:\"onChangeRank\",value:function onChangeRank(e){this.setState({user_rank:e.target.value});}},{key:\"onChangeDiscordId\",value:function onChangeDiscordId(e){this.setState({discord_id:e.target.value});}},{key:\"onChangeRole\",value:function onChangeRole(e){this.setState({role:e.target.value});}},{key:\"onChangePassword\",value:function onChangePassword(e){this.setState({password:e.target.value});}},{key:\"saveUser\",value:function saveUser(){var _this2=this;var data={rank:this.state.user_rank,username:this.state.user_name,discord_id:this.state.discord_id,role:this.state.role,password:this.state.password};UserDataService.create(data).then(function(response){_this2.setState({user_id:response.data.user_id,rank:response.data.rank,username:response.data.username,discord_id:response.data.discord_id,role:response.data.role,password:response.date.password,submitted:true});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"newUser\",value:function newUser(){this.setState({user_id:null,rank:\"\",username:\"\",discord_id:\"\",role:\"\",password:\"\",submitted:false});}},{key:\"componentDidMount\",value:function componentDidMount(){var user=AuthService.getCurrentUser();if(user){this.setState({user_id:user.user_id,checkForAdmin:user.user_id==2});}}},{key:\"render\",value:function render(){var checkForAdmin=this.state.checkForAdmin;if(checkForAdmin){return/*#__PURE__*/_jsx(\"div\",{className:\"submit-form\",children:this.state.submitted?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"You submitted successfully!\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:this.newUser,children:\"Add\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"username\",required:true,value:this.state.username,onChange:this.onChangeUsername,name:\"username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"rank\",children:\"Rank\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"rank\",required:true,value:this.state.rank,onChange:this.onChangeRank,name:\"rank\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"discord_id\",children:\"Discord ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"discord_id\",required:true,value:this.state.discord_id,onChange:this.onChangeDiscordId,name:\"discord_id\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"role\",children:\"Role\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"role\",required:true,value:this.state.role,onChange:this.onChangeRole,name:\"role\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"password\",required:true,value:this.state.password,onChange:this.onChangePassword,name:\"password\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:this.saveUser,className:\"btn btn-success\",children:\"Submit\"})]})});}else{return/*#__PURE__*/_jsx(\"h3\",{children:\"Admin Content\"});}}}]);return AddUser;}(Component);export{AddUser as default};","map":{"version":3,"sources":["G:/commonwealth-backend/commonwealth-frontend/src/components/users/add-user.component.js"],"names":["React","Component","UserDataService","AuthService","AddUser","props","onChangeUsername","bind","onChangePassword","onChangeRank","onChangeDiscordId","onChangeRole","saveUser","newUser","state","user_id","rank","username","discord_id","role","password","checkForAdmin","e","setState","user_name","target","value","user_rank","data","create","then","response","date","submitted","console","log","catch","user","getCurrentUser"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport UserDataService from \"../../services/user.service\";\r\nimport AuthService from \"../../services/auth.service\";\r\n\r\nexport default class AddUser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onChangeUsername = this.onChangeUsername.bind(this);\r\n    this.onChangePassword = this.onChangePassword.bind(this);\r\n    this.onChangeRank = this.onChangeRank.bind(this);\r\n    this.onChangeDiscordId = this.onChangeDiscordId.bind(this);\r\n    this.onChangeRole = this.onChangeRole.bind(this);\r\n    this.saveUser = this.saveUser.bind(this);\r\n    this.newUser = this.newUser.bind(this);\r\n\r\n    this.state = {\r\n      user_id: null,\r\n      rank: \"\",\r\n      username: \"\",\r\n      discord_id: \"\",\r\n      role: \"\",\r\n      password: \"\",\r\n      checkForAdmin: null,\r\n      user_id: null,\r\n\r\n      submitted: false\r\n    };\r\n  }\r\n\r\n  onChangeUsername(e) {\r\n    this.setState({\r\n      user_name: e.target.value\r\n    });\r\n  }\r\n\r\n  onChangeRank(e) {\r\n    this.setState({\r\n      user_rank: e.target.value\r\n    });\r\n  }\r\n\r\n  onChangeDiscordId(e) {\r\n    this.setState({\r\n      discord_id: e.target.value\r\n    });\r\n  }\r\n\r\n  onChangeRole(e) {\r\n    this.setState({\r\n      role: e.target.value\r\n    });\r\n  }\r\n\r\n  onChangePassword(e) {\r\n    this.setState({\r\n      password: e.target.value\r\n    });\r\n  }\r\n\r\n  saveUser() {\r\n    var data = {\r\n      rank: this.state.user_rank,\r\n      username: this.state.user_name,\r\n      discord_id: this.state.discord_id,\r\n      role: this.state.role,\r\n      password: this.state.password,\r\n\r\n      \r\n    };\r\n\r\n    UserDataService.create(data)\r\n      .then(response => {\r\n        this.setState({\r\n          user_id: response.data.user_id,\r\n          rank: response.data.rank,\r\n          username: response.data.username,\r\n          discord_id: response.data.discord_id,\r\n          role: response.data.role,\r\n          password: response.date.password,\r\n\r\n          submitted: true\r\n        });\r\n        console.log(response.data);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  newUser() {\r\n    this.setState({\r\n      user_id: null,\r\n      rank: \"\",\r\n      username: \"\",\r\n      discord_id: \"\",\r\n      role: \"\",\r\n      password: \"\",\r\n\r\n      submitted: false\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    const user = AuthService.getCurrentUser();\r\n\r\n    if (user) {\r\n      this.setState({\r\n        user_id: user.user_id,\r\n        checkForAdmin: user.user_id == 2\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { checkForAdmin } = this.state;\r\n    if(checkForAdmin){\r\n    return (\r\n      <div className=\"submit-form\">\r\n        {this.state.submitted ? (\r\n          <div>\r\n            <h4>You submitted successfully!</h4>\r\n            <button className=\"btn btn-success\" onClick={this.newUser}>\r\n              Add\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"username\">Name</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"username\"\r\n                required\r\n                value={this.state.username}\r\n                onChange={this.onChangeUsername}\r\n                name=\"username\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"rank\">Rank</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"rank\"\r\n                required\r\n                value={this.state.rank}\r\n                onChange={this.onChangeRank}\r\n                name=\"rank\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"discord_id\">Discord ID</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"discord_id\"\r\n                required\r\n                value={this.state.discord_id}\r\n                onChange={this.onChangeDiscordId}\r\n                name=\"discord_id\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"role\">Role</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"role\"\r\n                required\r\n                value={this.state.role}\r\n                onChange={this.onChangeRole}\r\n                name=\"role\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"password\">Password</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"password\"\r\n                required\r\n                value={this.state.password}\r\n                onChange={this.onChangePassword}\r\n                name=\"password\"\r\n              />\r\n            </div>\r\n\r\n            <button onClick={this.saveUser} className=\"btn btn-success\">\r\n              Submit\r\n            </button>\r\n          </div>)}\r\n      </div>\r\n    );\r\n  }\r\n  else{\r\n    return(\r\n    <h3>Admin Content</h3>\r\n    );\r\n  }\r\n}\r\n}"]},"metadata":{},"sourceType":"module"}