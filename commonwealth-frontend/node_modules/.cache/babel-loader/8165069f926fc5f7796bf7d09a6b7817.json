{"ast":null,"code":"import _classCallCheck from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from\"react\";import LocationDataService from\"../../services/location.service\";import AuthService from\"../../services/auth.service\";var AddLocation=/*#__PURE__*/function(_Component){_inherits(AddLocation,_Component);var _super=_createSuper(AddLocation);function AddLocation(props){var _this;_classCallCheck(this,AddLocation);_this=_super.call(this,props);_this.onChangeLocationName=_this.onChangeLocationName.bind(_assertThisInitialized(_this));_this.saveLocation=_this.saveLocation.bind(_assertThisInitialized(_this));_this.newLocation=_this.newLocation.bind(_assertThisInitialized(_this));_this.state={location_id:null,location_name:\"\",checkForAdmin:null,user_id:null,submitted:false};return _this;}_createClass(AddLocation,[{key:\"onChangeLocationName\",value:function onChangeLocationName(e){this.setState({location_name:e.target.value});}},{key:\"saveLocation\",value:function saveLocation(){var _this2=this;var data={location_name:this.state.location_name};LocationDataService.create(data).then(function(response){_this2.setState({location_id:response.data.location_id,location_name:response.data.location_name,submitted:true});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"newLocation\",value:function newLocation(){this.setState({location_id:null,location_name:\"\",submitted:false});}},{key:\"componentDidMount\",value:function componentDidMount(){var user=AuthService.getCurrentUser();if(user){this.setState({user_id:user.user_id,checkForAdmin:user.user_id==2});}}},{key:\"render\",value:function render(){var checkForAdmin=this.state.checkForAdmin;if(checkForAdmin){return/*#__PURE__*/_jsx(\"div\",{className:\"submit-form\",children:this.state.submitted?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"You submitted successfully!\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:this.newLocation,children:\"Add\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"location_name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"location_name\",required:true,value:this.state.location_name,onChange:this.onChangeLocationName,name:\"location_name\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:this.saveLocation,className:\"btn btn-success\",children:\"Submit\"})]})});}else{return/*#__PURE__*/_jsx(\"h3\",{children:\"Admin Content\"});}}}]);return AddLocation;}(Component);export{AddLocation as default};","map":{"version":3,"sources":["G:/commonwealth-backend/commonwealth-frontend/src/components/locations/add-location.component.js"],"names":["React","Component","LocationDataService","AuthService","AddLocation","props","onChangeLocationName","bind","saveLocation","newLocation","state","location_id","location_name","checkForAdmin","user_id","submitted","e","setState","target","value","data","create","then","response","console","log","catch","user","getCurrentUser"],"mappings":"44BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,mBAAP,KAAgC,iCAAhC,CACA,MAAOC,CAAAA,WAAP,KAAwB,6BAAxB,C,GAEqBC,CAAAA,W,0GACnB,qBAAYC,KAAZ,CAAmB,6CACjB,uBAAMA,KAAN,EACA,MAAKC,oBAAL,CAA4B,MAAKA,oBAAL,CAA0BC,IAA1B,+BAA5B,CACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB,CACA,MAAKE,WAAL,CAAmB,MAAKA,WAAL,CAAiBF,IAAjB,+BAAnB,CAEA,MAAKG,KAAL,CAAa,CACXC,WAAW,CAAE,IADF,CAEXC,aAAa,CAAE,EAFJ,CAGXC,aAAa,CAAE,IAHJ,CAIXC,OAAO,CAAE,IAJE,CAMXC,SAAS,CAAE,KANA,CAAb,CANiB,aAclB,C,0FAEoBC,C,CAAG,CACtB,KAAKC,QAAL,CAAc,CACZL,aAAa,CAAEI,CAAC,CAACE,MAAF,CAASC,KADZ,CAAd,EAGD,C,mDAEc,iBACb,GAAIC,CAAAA,IAAI,CAAG,CACTR,aAAa,CAAE,KAAKF,KAAL,CAAWE,aADjB,CAAX,CAIAV,mBAAmB,CAACmB,MAApB,CAA2BD,IAA3B,EACGE,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChB,MAAI,CAACN,QAAL,CAAc,CACZN,WAAW,CAAEY,QAAQ,CAACH,IAAT,CAAcT,WADf,CAEZC,aAAa,CAAEW,QAAQ,CAACH,IAAT,CAAcR,aAFjB,CAIZG,SAAS,CAAE,IAJC,CAAd,EAMAS,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACH,IAArB,EACD,CATH,EAUGM,KAVH,CAUS,SAAAV,CAAC,CAAI,CACVQ,OAAO,CAACC,GAAR,CAAYT,CAAZ,EACD,CAZH,EAaD,C,iDAEa,CACZ,KAAKC,QAAL,CAAc,CACZN,WAAW,CAAE,IADD,CAEZC,aAAa,CAAE,EAFH,CAIZG,SAAS,CAAE,KAJC,CAAd,EAMD,C,6DAEmB,CAClB,GAAMY,CAAAA,IAAI,CAAGxB,WAAW,CAACyB,cAAZ,EAAb,CAEA,GAAID,IAAJ,CAAU,CACR,KAAKV,QAAL,CAAc,CACZH,OAAO,CAAEa,IAAI,CAACb,OADF,CAEZD,aAAa,CAAEc,IAAI,CAACb,OAAL,EAAgB,CAFnB,CAAd,EAID,CACF,C,uCAEQ,IACCD,CAAAA,aADD,CACmB,KAAKH,KADxB,CACCG,aADD,CAEP,GAAGA,aAAH,CAAiB,CACjB,mBACE,YAAK,SAAS,CAAC,aAAf,UACG,KAAKH,KAAL,CAAWK,SAAX,cACC,oCACE,mDADF,cAEE,eAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAE,KAAKN,WAAlD,iBAFF,GADD,cAQD,oCACI,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,eAAf,kBADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,CAAC,eAHL,CAIE,QAAQ,KAJV,CAKE,KAAK,CAAE,KAAKC,KAAL,CAAWE,aALpB,CAME,QAAQ,CAAE,KAAKN,oBANjB,CAOE,IAAI,CAAC,eAPP,EAFF,GADJ,cAcI,eAAQ,OAAO,CAAE,KAAKE,YAAtB,CAAoC,SAAS,CAAC,iBAA9C,oBAdJ,GATF,EADF,CA8BD,CA/BC,IAgCE,CACF,mBACA,qCADA,CAGD,CACF,C,yBAtGwCP,S,SAApBG,W","sourcesContent":["import React, { Component } from \"react\";\r\nimport LocationDataService from \"../../services/location.service\";\r\nimport AuthService from \"../../services/auth.service\";\r\n\r\nexport default class AddLocation extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onChangeLocationName = this.onChangeLocationName.bind(this);\r\n    this.saveLocation = this.saveLocation.bind(this);\r\n    this.newLocation = this.newLocation.bind(this);\r\n\r\n    this.state = {\r\n      location_id: null,\r\n      location_name: \"\",\r\n      checkForAdmin: null,\r\n      user_id: null,\r\n\r\n      submitted: false\r\n    };\r\n  }\r\n\r\n  onChangeLocationName(e) {\r\n    this.setState({\r\n      location_name: e.target.value\r\n    });\r\n  }\r\n\r\n  saveLocation() {\r\n    var data = {\r\n      location_name: this.state.location_name\r\n    };\r\n\r\n    LocationDataService.create(data)\r\n      .then(response => {\r\n        this.setState({\r\n          location_id: response.data.location_id,\r\n          location_name: response.data.location_name,\r\n\r\n          submitted: true\r\n        });\r\n        console.log(response.data);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  newLocation() {\r\n    this.setState({\r\n      location_id: null,\r\n      location_name: \"\",\r\n\r\n      submitted: false\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    const user = AuthService.getCurrentUser();\r\n\r\n    if (user) {\r\n      this.setState({\r\n        user_id: user.user_id,\r\n        checkForAdmin: user.user_id == 2\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { checkForAdmin } = this.state;\r\n    if(checkForAdmin){\r\n    return (\r\n      <div className=\"submit-form\">\r\n        {this.state.submitted ? (\r\n          <div>\r\n            <h4>You submitted successfully!</h4>\r\n            <button className=\"btn btn-success\" onClick={this.newLocation}>\r\n              Add\r\n            </button>\r\n          </div>\r\n        ) : (\r\n        <div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"location_name\">Name</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"location_name\"\r\n                required\r\n                value={this.state.location_name}\r\n                onChange={this.onChangeLocationName}\r\n                name=\"location_name\"\r\n              />\r\n            </div>\r\n\r\n            <button onClick={this.saveLocation} className=\"btn btn-success\">\r\n              Submit\r\n            </button>\r\n          </div>)}\r\n      </div>\r\n    );\r\n  }\r\n  else{\r\n    return(\r\n    <h3>Admin Content</h3>\r\n    );\r\n  }\r\n}\r\n}"]},"metadata":{},"sourceType":"module"}