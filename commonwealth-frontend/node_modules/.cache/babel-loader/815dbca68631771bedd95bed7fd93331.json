{"ast":null,"code":"import _classCallCheck from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from\"react\";import LocationDataService from\"../../services/location.service\";import{Link}from\"react-router-dom\";import AuthService from\"../../services/auth.service\";var LocationsList=/*#__PURE__*/function(_Component){_inherits(LocationsList,_Component);var _super=_createSuper(LocationsList);function LocationsList(props){var _this;_classCallCheck(this,LocationsList);_this=_super.call(this,props);_this.retrieveLocations=_this.retrieveLocations.bind(_assertThisInitialized(_this));_this.refreshList=_this.refreshList.bind(_assertThisInitialized(_this));_this.setActiveLocation=_this.setActiveLocation.bind(_assertThisInitialized(_this));_this.state={locations:[],currentLocationl:null,currentIndex:-1,checkForAdmin:null,user_id:null};return _this;}_createClass(LocationsList,[{key:\"componentDidMount\",value:function componentDidMount(){this.retrieveLocations();var user=AuthService.getCurrentUser();if(user){this.setState({user_id:user.user_id,checkForAdmin:user.user_id==2});}}},{key:\"retrieveLocations\",value:function retrieveLocations(){var _this2=this;LocationDataService.getAll().then(function(response){_this2.setState({locations:response.data});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"refreshList\",value:function refreshList(){this.retrieveLocations();this.setState({currentLocation:null,currentIndex:-1});}},{key:\"setActiveLocation\",value:function setActiveLocation(location,index){this.setState({currentLocation:location,currentIndex:index});}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,checkForAdmin=_this$state.checkForAdmin,locations=_this$state.locations,currentLocation=_this$state.currentLocation,currentIndex=_this$state.currentIndex;if(checkForAdmin){return/*#__PURE__*/_jsxs(\"div\",{className:\"list row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Locations List\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group\",children:locations&&locations.map(function(location,index){return/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item \"+(index===currentIndex?\"active\":\"\"),onClick:function onClick(){return _this3.setActiveLocation(location,index);},children:location.location_name},index);})}),/*#__PURE__*/_jsx(Link,{to:\"/addLocation\",className:\"nav-link\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",children:\"Add Location\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:currentLocation?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Location\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Location Name:\"})}),\" \",currentLocation.location_name]}),/*#__PURE__*/_jsx(Link,{to:\"/locations/\"+currentLocation.location_id,className:\"badge badge-warning\",children:\"Edit\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"Please click on a Location...\"})]})})]});}else{return/*#__PURE__*/_jsx(\"h3\",{children:\"Admin Content\"});}}}]);return LocationsList;}(Component);export{LocationsList as default};","map":{"version":3,"sources":["G:/commonwealth-backend/commonwealth-frontend/src/components/locations/locations-list.component.js"],"names":["React","Component","LocationDataService","Link","AuthService","LocationsList","props","retrieveLocations","bind","refreshList","setActiveLocation","state","locations","currentLocationl","currentIndex","checkForAdmin","user_id","user","getCurrentUser","setState","getAll","then","response","data","console","log","catch","e","currentLocation","location","index","map","location_name","location_id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport LocationDataService from \"../../services/location.service\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AuthService from \"../../services/auth.service\";\r\n\r\nexport default class LocationsList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.retrieveLocations = this.retrieveLocations.bind(this);\r\n    this.refreshList = this.refreshList.bind(this);\r\n    this.setActiveLocation = this.setActiveLocation.bind(this);\r\n\r\n    this.state = {\r\n      locations: [],\r\n      currentLocationl: null,\r\n      currentIndex: -1,\r\n      checkForAdmin: null,\r\n      user_id: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.retrieveLocations();\r\n\r\n    const user = AuthService.getCurrentUser();\r\n\r\n    if (user) {\r\n      this.setState({\r\n        user_id: user.user_id,\r\n        checkForAdmin: user.user_id == 2\r\n      });\r\n    }\r\n  }\r\n\r\n  retrieveLocations() {\r\n    LocationDataService.getAll()\r\n      .then(response => {\r\n        this.setState({\r\n          locations: response.data\r\n        });\r\n        console.log(response.data);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  refreshList() {\r\n    this.retrieveLocations();\r\n    this.setState({\r\n      currentLocation: null,\r\n      currentIndex: -1\r\n    });\r\n  }\r\n\r\n  setActiveLocation(location, index) {\r\n    this.setState({\r\n      currentLocation: location,\r\n      currentIndex: index\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { checkForAdmin, locations, currentLocation, currentIndex } = this.state;\r\n    if(checkForAdmin){\r\n    return (\r\n      <div className=\"list row\">\r\n        <div className=\"col-md-8\">\r\n        </div>\r\n        <div className=\"col-md-6\">\r\n          <h4>Locations List</h4>\r\n\r\n          <ul className=\"list-group\">\r\n            {locations &&\r\n              locations.map((location, index) => (\r\n                <li\r\n                  className={\r\n                    \"list-group-item \" +\r\n                    (index === currentIndex ? \"active\" : \"\")\r\n                  }\r\n                  onClick={() => this.setActiveLocation(location, index)}\r\n                  key={index}\r\n                >\r\n                  {location.location_name}\r\n                </li>\r\n              ))}\r\n          </ul>\r\n\r\n          <Link to={\"/addLocation\"} className=\"nav-link\">\r\n            <button className=\"btn btn-success\">\r\n            Add Location\r\n            </button>\r\n          </Link>\r\n        </div>\r\n        <div className=\"col-md-6\">\r\n          {currentLocation ? (\r\n            <div>\r\n              <h4>Location</h4>\r\n              <div>\r\n                <label>\r\n                  <strong>Location Name:</strong>\r\n                </label>{\" \"}\r\n                {currentLocation.location_name}\r\n              </div>\r\n\r\n              <Link\r\n                to={\"/locations/\" + currentLocation.location_id}\r\n                className=\"badge badge-warning\"\r\n              >\r\n                Edit\r\n              </Link>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <br />\r\n              <p>Please click on a Location...</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  else{\r\n    return(\r\n    <h3>Admin Content</h3>\r\n    );\r\n  }\r\n}\r\n}"]},"metadata":{},"sourceType":"module"}