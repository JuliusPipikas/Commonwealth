{"ast":null,"code":"import _objectSpread from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"G:/commonwealth-backend/commonwealth-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from\"react\";import LocationDataService from\"../../services/location.service\";var Location=/*#__PURE__*/function(_Component){_inherits(Location,_Component);var _super=_createSuper(Location);function Location(props){var _this;_classCallCheck(this,Location);_this=_super.call(this,props);_this.onChangeLocationName=_this.onChangeLocationName.bind(_assertThisInitialized(_this));_this.getLocation=_this.getLocation.bind(_assertThisInitialized(_this));_this.updateLocation=_this.updateLocation.bind(_assertThisInitialized(_this));_this.deleteLocation=_this.deleteLocation.bind(_assertThisInitialized(_this));_this.state={currentLocation:{location_id:null,location_name:\"\",submitted:false},message:\"\"};return _this;}_createClass(Location,[{key:\"componentDidMount\",value:function componentDidMount(){this.getLocation(this.props.match.params.location_id);}},{key:\"onChangeLocationName\",value:function onChangeLocationName(e){var location_name=e.target.value;this.setState(function(prevState){return{currentLocation:_objectSpread(_objectSpread({},prevState.currentLocation),{},{location_name:location_name})};});}},{key:\"getLocation\",value:function getLocation(location_id){var _this2=this;LocationDataService.get(location_id).then(function(response){_this2.setState({currentLocation:response.data});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"updateLocation\",value:function updateLocation(){var _this3=this;LocationDataService.update(this.state.currentLocation.location_id,this.state.currentLocation).then(function(response){console.log(response.data);_this3.setState({message:\"The Location was updated successfully!\"});}).catch(function(e){console.log(e);});}},{key:\"deleteLocation\",value:function deleteLocation(){var _this4=this;LocationDataService.delete(this.state.currentLocation.location_id).then(function(response){console.log(response.data);_this4.props.history.push('/Locations');}).catch(function(e){console.log(e);});}},{key:\"render\",value:function render(){var currentLocation=this.state.currentLocation;return/*#__PURE__*/_jsx(\"div\",{children:currentLocation?/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Location\"}),/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"location_name\",children:\"Location Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"location_name\",value:currentLocation.location_name,onChange:this.onChangeLocationName})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"badge badge-danger mr-2\",onClick:this.deleteLocation,children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"badge badge-success\",onClick:this.updateLocation,children:\"Update\"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.message})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"Please click on a Location...\"})]})});}}]);return Location;}(Component);export{Location as default};","map":{"version":3,"sources":["G:/commonwealth-backend/commonwealth-frontend/src/components/locations/location.component.js"],"names":["React","Component","LocationDataService","Location","props","onChangeLocationName","bind","getLocation","updateLocation","deleteLocation","state","currentLocation","location_id","location_name","submitted","message","match","params","e","target","value","setState","prevState","get","then","response","data","console","log","catch","update","delete","history","push"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport LocationDataService from \"../../services/location.service\";\r\n\r\nexport default class Location extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onChangeLocationName = this.onChangeLocationName.bind(this);\r\n    this.getLocation = this.getLocation.bind(this);\r\n    this.updateLocation = this.updateLocation.bind(this);\r\n    this.deleteLocation = this.deleteLocation.bind(this);\r\n\r\n    this.state = {\r\n      currentLocation: {\r\n        location_id: null,\r\n        location_name: \"\",\r\n\r\n        submitted: false\r\n      },\r\n      message: \"\"\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getLocation(this.props.match.params.location_id);\r\n  }\r\n\r\n  onChangeLocationName(e) {\r\n    const location_name = e.target.value;\r\n\r\n    this.setState(function(prevState) {\r\n      return {\r\n        currentLocation: {\r\n          ...prevState.currentLocation,\r\n          location_name: location_name\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  getLocation(location_id) {\r\n    LocationDataService.get(location_id)\r\n      .then(response => {\r\n        this.setState({\r\n          currentLocation: response.data\r\n        });\r\n        console.log(response.data);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  updateLocation() {\r\n    LocationDataService.update(\r\n      this.state.currentLocation.location_id,\r\n      this.state.currentLocation\r\n    )\r\n      .then(response => {\r\n        console.log(response.data);\r\n        this.setState({\r\n          message: \"The Location was updated successfully!\"\r\n        });\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  deleteLocation() {    \r\n    LocationDataService.delete(this.state.currentLocation.location_id)\r\n      .then(response => {\r\n        console.log(response.data);\r\n        this.props.history.push('/Locations')\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { currentLocation } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        {currentLocation ? (\r\n          <div className=\"edit-form\">\r\n            <h4>Location</h4>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"location_name\">Location Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"location_name\"\r\n                  value={currentLocation.location_name}\r\n                  onChange={this.onChangeLocationName}\r\n                />\r\n              </div>\r\n            </form>\r\n\r\n            <button\r\n              className=\"badge badge-danger mr-2\"\r\n              onClick={this.deleteLocation}\r\n            >\r\n              Delete\r\n            </button>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              className=\"badge badge-success\"\r\n              onClick={this.updateLocation}\r\n            >\r\n              Update\r\n            </button>\r\n            <p>{this.state.message}</p>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <br />\r\n            <p>Please click on a Location...</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}