{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"G:\\\\commonwealth-backend\\\\commonwealth-frontend\\\\src\\\\components\\\\characters\\\\character.component.js\";\nimport React, { Component } from \"react\";\nimport CharacterDataService from \"../../services/character.service\";\nimport AuthService from \"../../services/auth.service\";\nimport LocationDataService from \"../../services/location.service\";\nexport default class Character extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeCharacterName = this.onChangeCharacterName.bind(this);\n    this.onChangeCharacterClass = this.onChangeCharacterClass.bind(this);\n    this.onChangeLevel = this.onChangeLevel.bind(this);\n    this.onChangerStatus = this.onChangeStatus.bind(this);\n    this.onChangeStatArray = this.onChangeStatArray.bind(this);\n    this.onChangeLocationId = this.onChangeLocationId.bind(this);\n    this.onChangeUserId = this.onChangeUserId.bind(this);\n    this.onChangeApproved = this.onChangeApproved.bind(this);\n    this.getCharacter = this.getCharacter.bind(this);\n    this.updateCharacter = this.updateCharacter.bind(this);\n    this.deleteCharacter = this.deleteCharacter.bind(this);\n    this.state = {\n      currentCharacter: {\n        character_id: null,\n        character_name: \"\",\n        character_class: \"\",\n        level: null,\n        status: \"\",\n        stat_array: \"\",\n        user_id: null,\n        location_id: null,\n        approved: null,\n        locations: [\"\"],\n        checkForAdmin: null,\n        submitted: false\n      },\n      message: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.getCharacter(this.props.match.params.character_id);\n    const user = AuthService.getCurrentUser();\n    LocationDataService.getAll().then(response => {\n      this.setState({\n        locations: response.data\n      });\n    });\n\n    if (user) {\n      this.setState({\n        user_id: user.user_id,\n        checkForAdmin: user.user_id == 2\n      });\n    }\n  }\n\n  onChangeCharacterName(e) {\n    const character_name = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        currentCharacter: { ...prevState.currentCharacter,\n          character_name: character_name\n        }\n      };\n    });\n  }\n\n  onChangeCharacterClass(e) {\n    const character_class = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        currentCharacter: { ...prevState.currentCharacter,\n          character_class: character_class\n        }\n      };\n    });\n  }\n\n  onChangeLevel(e) {\n    const level = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        currentCharacter: { ...prevState.currentCharacter,\n          level: level\n        }\n      };\n    });\n  }\n\n  onChangeStatus(e) {\n    const status = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        currentCharacter: { ...prevState.currentCharacter,\n          status: status\n        }\n      };\n    });\n  }\n\n  onChangeStatArray(e) {\n    const stat_array = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        currentCharacter: { ...prevState.currentCharacter,\n          stat_array: stat_array\n        }\n      };\n    });\n  }\n\n  onChangeLocationId(e) {\n    const location_id = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        currentCharacter: { ...prevState.currentCharacter,\n          location_id: location_id\n        }\n      };\n    });\n  }\n\n  onChangeUserId(e) {\n    const user_id = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        currentCharacter: { ...prevState.currentCharacter,\n          user_id: user_id\n        }\n      };\n    });\n  }\n\n  onChangeApproved(e) {\n    const approved = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        currentCharacter: { ...prevState.currentCharacter,\n          approved: approved\n        }\n      };\n    });\n  }\n\n  getCharacter(character_id) {\n    CharacterDataService.get(character_id).then(response => {\n      this.setState({\n        currentCharacter: response.data\n      });\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  updateCharacter() {\n    CharacterDataService.update(this.state.currentCharacter.character_id, this.state.currentCharacter).then(response => {\n      console.log(response.data);\n      this.setState({\n        message: \"The Character was updated successfully!\"\n      });\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  deleteCharacter() {\n    CharacterDataService.delete(this.state.currentCharacter.character_id).then(response => {\n      console.log(response.data);\n      this.props.history.push('/Characters');\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  render() {\n    const {\n      checkForAdmin,\n      locations,\n      currentCharacter\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: currentCharacter ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edit-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Character\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"character_name\",\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"character_name\",\n              required: true,\n              value: this.state.character_name,\n              onChange: this.onChangeCharacterName,\n              name: \"character_name\",\n              placeholder: \"Your character's name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"character_class\",\n              children: \"Class\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"character_class\",\n              required: true,\n              value: this.state.character_class,\n              onChange: this.onChangeCharacterClass,\n              name: \"character_class\",\n              placeholder: \"Your character's class\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"level\",\n              children: \"Level\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control\",\n              id: \"level\",\n              required: true,\n              value: this.state.level,\n              onChange: this.onChangeLevel,\n              name: \"level\",\n              min: \"1\",\n              max: \"20\",\n              placeholder: \"Your character's level\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"status\",\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-control\",\n              id: \"status\",\n              required: true,\n              value: this.state.status,\n              onChange: this.onChangeStatus,\n              name: \"status\",\n              placeholder: \"Your character's current status\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Alive\",\n                children: \"Alive\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Retired\",\n                children: \"Retired\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Deceased\",\n                children: \"Deceased\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"stat_array\",\n              children: \"Stat Array\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"stat_array\",\n              required: true,\n              value: this.state.stat_array,\n              onChange: this.onChangeStatArray,\n              name: \"stat_array\",\n              placeholder: \"Ex. 11, 11, 11, 11, 11, 11\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"location_id\",\n              children: \"Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-control\",\n              id: \"location_id\",\n              required: true,\n              value: this.state.location_id,\n              onChange: this.onChangeLocationId,\n              name: \"location_id\",\n              placeholder: \"Your character's current location\",\n              children: locations.map((location, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: location.location_id,\n                children: location.location_name\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), checkForAdmin && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"user_id\",\n              children: \"User\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"user_id\",\n              required: true,\n              value: this.state.user_id,\n              onChange: this.onChangeUserId,\n              name: \"user_id\",\n              placeholder: \"[ADMIN FIELD] User\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"badge badge-danger mr-2\",\n          onClick: this.deleteCharacter,\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"badge badge-success\",\n          onClick: this.updateCharacter,\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: this.state.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Please click on a Character...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["G:/commonwealth-backend/commonwealth-frontend/src/components/characters/character.component.js"],"names":["React","Component","CharacterDataService","AuthService","LocationDataService","Character","constructor","props","onChangeCharacterName","bind","onChangeCharacterClass","onChangeLevel","onChangerStatus","onChangeStatus","onChangeStatArray","onChangeLocationId","onChangeUserId","onChangeApproved","getCharacter","updateCharacter","deleteCharacter","state","currentCharacter","character_id","character_name","character_class","level","status","stat_array","user_id","location_id","approved","locations","checkForAdmin","submitted","message","componentDidMount","match","params","user","getCurrentUser","getAll","then","response","setState","data","e","target","value","prevState","get","console","log","catch","update","delete","history","push","render","map","location","index","location_name"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport CharacterDataService from \"../../services/character.service\";\r\nimport AuthService from \"../../services/auth.service\";\r\nimport LocationDataService from \"../../services/location.service\";\r\n\r\nexport default class Character extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onChangeCharacterName = this.onChangeCharacterName.bind(this);\r\n    this.onChangeCharacterClass = this.onChangeCharacterClass.bind(this);\r\n    this.onChangeLevel = this.onChangeLevel.bind(this);\r\n    this.onChangerStatus = this.onChangeStatus.bind(this);\r\n    this.onChangeStatArray = this.onChangeStatArray.bind(this);\r\n    this.onChangeLocationId = this.onChangeLocationId.bind(this);\r\n    this.onChangeUserId = this.onChangeUserId.bind(this);\r\n    this.onChangeApproved = this.onChangeApproved.bind(this);\r\n    this.getCharacter = this.getCharacter.bind(this);\r\n    this.updateCharacter = this.updateCharacter.bind(this);\r\n    this.deleteCharacter = this.deleteCharacter.bind(this);\r\n\r\n    this.state = {\r\n      currentCharacter: {\r\n      character_id: null,\r\n      character_name: \"\",\r\n      character_class: \"\",\r\n      level: null,\r\n      status: \"\",\r\n      stat_array: \"\",\r\n      user_id: null,\r\n      location_id: null,\r\n      approved: null,\r\n      locations: [\"\"],\r\n      checkForAdmin: null,\r\n\r\n      submitted: false\r\n      },\r\n      message: \"\"\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getCharacter(this.props.match.params.character_id);\r\n    const user = AuthService.getCurrentUser();\r\n\r\n    LocationDataService.getAll().then( response => { this.setState({\r\n      locations: response.data\r\n    })\r\n    })\r\n\r\n    if (user) {\r\n      this.setState({\r\n        user_id: user.user_id,\r\n        checkForAdmin: user.user_id == 2\r\n      });\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  onChangeCharacterName(e) {\r\n    const character_name = e.target.value;\r\n\r\n    this.setState(function(prevState) {\r\n      return {\r\n        currentCharacter: {\r\n          ...prevState.currentCharacter,\r\n          character_name: character_name\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  onChangeCharacterClass(e) {\r\n    const character_class = e.target.value;\r\n\r\n    this.setState(function(prevState) {\r\n      return {\r\n        currentCharacter: {\r\n          ...prevState.currentCharacter,\r\n          character_class: character_class\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  onChangeLevel(e) {\r\n    const level = e.target.value;\r\n\r\n    this.setState(function(prevState) {\r\n      return {\r\n        currentCharacter: {\r\n          ...prevState.currentCharacter,\r\n          level: level\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  onChangeStatus(e) {\r\n    const status = e.target.value;\r\n\r\n    this.setState(function(prevState) {\r\n      return {\r\n        currentCharacter: {\r\n          ...prevState.currentCharacter,\r\n          status: status\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  onChangeStatArray(e) {\r\n    const stat_array = e.target.value;\r\n\r\n    this.setState(function(prevState) {\r\n      return {\r\n        currentCharacter: {\r\n          ...prevState.currentCharacter,\r\n          stat_array: stat_array\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  onChangeLocationId(e) {\r\n    const location_id = e.target.value;\r\n\r\n    this.setState(function(prevState) {\r\n      return {\r\n        currentCharacter: {\r\n          ...prevState.currentCharacter,\r\n          location_id: location_id\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  onChangeUserId(e) {\r\n    const user_id = e.target.value;\r\n\r\n    this.setState(function(prevState) {\r\n      return {\r\n        currentCharacter: {\r\n          ...prevState.currentCharacter,\r\n          user_id: user_id\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  onChangeApproved(e) {\r\n    const approved = e.target.value;\r\n\r\n    this.setState(function(prevState) {\r\n      return {\r\n        currentCharacter: {\r\n          ...prevState.currentCharacter,\r\n          approved: approved\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  getCharacter(character_id) {\r\n    CharacterDataService.get(character_id)\r\n      .then(response => {\r\n        this.setState({\r\n          currentCharacter: response.data\r\n        });\r\n        console.log(response.data);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  updateCharacter() {\r\n    CharacterDataService.update(\r\n      this.state.currentCharacter.character_id,\r\n      this.state.currentCharacter\r\n    )\r\n      .then(response => {\r\n        console.log(response.data);\r\n        this.setState({\r\n          message: \"The Character was updated successfully!\"\r\n        });\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  deleteCharacter() {    \r\n    CharacterDataService.delete(this.state.currentCharacter.character_id)\r\n      .then(response => {\r\n        console.log(response.data);\r\n        this.props.history.push('/Characters')\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { checkForAdmin, locations, currentCharacter } = this.state;\r\n    return (\r\n      <div>\r\n        {currentCharacter ? (\r\n          <div className=\"edit-form\">\r\n            <h4>Character</h4>\r\n            <form>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"character_name\">Name</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"character_name\"\r\n                required\r\n                value={this.state.character_name}\r\n                onChange={this.onChangeCharacterName}\r\n                name=\"character_name\"\r\n                placeholder=\"Your character's name\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"character_class\">Class</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"character_class\"\r\n                required\r\n                value={this.state.character_class}\r\n                onChange={this.onChangeCharacterClass}\r\n                name=\"character_class\"\r\n                placeholder=\"Your character's class\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"level\">Level</label>\r\n              <input\r\n                type=\"number\"\r\n                className=\"form-control\"\r\n                id=\"level\"\r\n                required\r\n                value={this.state.level}\r\n                onChange={this.onChangeLevel}\r\n                name=\"level\"\r\n                min=\"1\"\r\n                max=\"20\"\r\n                placeholder=\"Your character's level\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"status\">Status</label>\r\n              <select className=\"form-control\" id=\"status\" required value={this.state.status}\r\n                onChange={this.onChangeStatus}\r\n                name=\"status\"\r\n                placeholder=\"Your character's current status\">\r\n              <option value= \"Alive\">Alive</option>\r\n              <option value= \"Retired\">Retired</option>\r\n              <option value= \"Deceased\">Deceased</option>\r\n            </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"stat_array\">Stat Array</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"stat_array\"\r\n                required\r\n                value={this.state.stat_array}\r\n                onChange={this.onChangeStatArray}\r\n                name=\"stat_array\"\r\n                placeholder=\"Ex. 11, 11, 11, 11, 11, 11\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"location_id\">Location</label>\r\n              <select className=\"form-control\" id=\"location_id\" required value={this.state.location_id}\r\n                onChange={this.onChangeLocationId}\r\n                name=\"location_id\"\r\n                placeholder=\"Your character's current location\">\r\n              {locations.map((location, index) => (\r\n                <option value={location.location_id} key={index}>{location.location_name}</option>\r\n              ))}\r\n            </select>\r\n            </div>\r\n                \r\n            {checkForAdmin && (\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"user_id\">User</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"user_id\"\r\n                required\r\n                value={this.state.user_id}\r\n                onChange={this.onChangeUserId}\r\n                name=\"user_id\"\r\n                placeholder=\"[ADMIN FIELD] User\"\r\n              />\r\n            </div>\r\n            )}\r\n\r\n            </form>\r\n\r\n            <button\r\n              className=\"badge badge-danger mr-2\"\r\n              onClick={this.deleteCharacter}\r\n            >\r\n              Delete\r\n            </button>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              className=\"badge badge-success\"\r\n              onClick={this.updateCharacter}\r\n            >\r\n              Update\r\n            </button>\r\n            <p>{this.state.message}</p>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <br />\r\n            <p>Please click on a Character...</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}